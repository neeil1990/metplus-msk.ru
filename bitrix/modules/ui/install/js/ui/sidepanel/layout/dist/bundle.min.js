this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i,n,a,r){"use strict";var l,s,o,d,u,c,p,b,v,h,f;function g(e,t){H(e,t);t.add(e)}function y(e,t,i){H(e,t);t.set(e,i)}function H(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function m(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var T=BX.UI;var w=BX.SidePanel;function C(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e=Object.assign({},e);e.design=Object.assign({},e.design||{});e.design=F({margin:true,section:true},e.design);e.extensions=(e.extensions||[]).concat(["ui.sidepanel.layout","ui.buttons"]);if(e.toolbar){e.extensions.push("ui.buttons.icons")}if(e.design.section){e.extensions.push("ui.sidepanel-content")}if(e.menu){e.extensions.push("ui.sidepanel.menu")}return e}var B=new WeakMap;var G=new WeakMap;var j=new WeakMap;var O=new WeakMap;var k=new WeakSet;var L=new WeakSet;var S=function(){babelHelpers.createClass(e,null,[{key:"createContent",value:function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i=C(i);return top.BX.Runtime.loadExtension(i.extensions).then((function(){return new e(i).render()}))}},{key:"createLayout",value:function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i=C(i);return top.BX.Runtime.loadExtension(i.extensions).then((function(){return new e(i)}))}}]);function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);g(this,L);g(this,k);y(this,B,{writable:true,value:void 0});y(this,G,{writable:true,value:void 0});y(this,j,{writable:true,value:void 0});y(this,O,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,j,C(n));var r=babelHelpers.classPrivateFieldGet(this,j).menu;if(r){babelHelpers.classPrivateFieldSet(this,O,new a.Menu(Object.assign(r)));if(i.Type.isUndefined(r.contentAttribute)){r.contentAttribute="data-menu-item-id"}if(r.contentAttribute){babelHelpers.classPrivateFieldGet(this,O).subscribe("click",(function(e){m(t,L,E).call(t,(e.getData()||{}).item)}))}}}babelHelpers.createClass(e,[{key:"getContainer",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,B)){babelHelpers.classPrivateFieldSet(this,B,i.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout"></div>']))))}return babelHelpers.classPrivateFieldGet(this,B)}},{key:"getMenu",value:function e(){return babelHelpers.classPrivateFieldGet(this,O)}},{key:"getFooterContainer",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,G)){babelHelpers.classPrivateFieldSet(this,G,i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer"></div>']))))}return babelHelpers.classPrivateFieldGet(this,G)}},{key:"render",value:function e(){var t=this;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(babelHelpers.classPrivateFieldGet(this,j).content&&!r){a=babelHelpers.classPrivateFieldGet(this,j).content();if(Object.prototype.toString.call(a)==="[object Promise]"||a.toString&&a.toString()==="[object BX.Promise]"){return a.then((function(e){return t.render(e,true)}))}}var l=this.getContainer();l.innerHTML="";if(babelHelpers.classPrivateFieldGet(this,j).title){var s=i.Tag.safe(o||(o=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,j).title);var f=i.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-sidepanel-layout-header">\n\t\t\t\t\t<div class="ui-sidepanel-layout-title">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),s);if(i.Type.isFunction(babelHelpers.classPrivateFieldGet(this,j).toolbar)){var g=i.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-toolbar"></div>'])));babelHelpers.classPrivateFieldGet(this,j).toolbar(F({},T)).forEach((function(e){if(e instanceof n.BaseButton){e.renderTo(g)}else if(i.Type.isDomNode(e)){g.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}}));f.appendChild(g)}l.appendChild(f)}{var y=babelHelpers.classPrivateFieldGet(this,j).design;var H=["ui-sidepanel-layout-content"];var P=[];if(y.margin){if(y.margin===true){H.push("ui-sidepanel-layout-content-margin")}else{P.push("margin: "+y.margin)}}var C=i.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="','" style="','"></div>'])),H.join(" "),P.join("; "));l.appendChild(C);if(babelHelpers.classPrivateFieldGet(this,O)){babelHelpers.classPrivateFieldGet(this,O).renderTo(C)}C.appendChild(i.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-content-inner"></div>']))));C=C.lastElementChild;if(y.section){C.appendChild(i.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<div class="ui-slider-section ui-sidepanel-layout-content-fill-height"></div>']))));C=C.firstElementChild}if(typeof a==="string"){C.innerHTML=a}else if(a instanceof Element){C.appendChild(a)}if(babelHelpers.classPrivateFieldGet(this,O)){m(this,L,E).call(this,babelHelpers.classPrivateFieldGet(this,O).getActiveItem(),C)}}var B=typeof babelHelpers.classPrivateFieldGet(this,j).buttons==="undefined";if(typeof babelHelpers.classPrivateFieldGet(this,j).buttons==="function"||B){var G=new n.CancelButton({onclick:function e(){return w.Instance.close()}});var k=new n.CloseButton({onclick:function e(){return w.Instance.close()}});var S=F(F({},T),{},{cancelButton:G,closeButton:k});if(B){babelHelpers.classPrivateFieldGet(this,j).buttons=function(){return[k]}}var X=babelHelpers.classPrivateFieldGet(this,j).buttons(S);if(X&&X.length>0){l.appendChild(i.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer-anchor"></div>']))));var x=["ui-sidepanel-layout-buttons"];if(babelHelpers.classPrivateFieldGet(this,j).design.alignButtonsLeft){x.push("ui-sidepanel-layout-buttons-align-left")}var W=i.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(['<div class="','"></div>'])),x.join(" "));this.getFooterContainer().appendChild(W);X.forEach((function(e){if(e instanceof n.BaseButton){e.renderTo(W)}else if(i.Type.isDomNode(e)){W.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}}));l.appendChild(this.getFooterContainer())}}setTimeout((function(){t.afterRender()}));return l}},{key:"afterRender",value:function e(){var t=this.getContainer().parentNode;if(t.scrollWidth>t.offsetWidth){this.getFooterContainer().style.setProperty("bottom",m(this,k,X).call(this)+"px")}}}]);return e}();function X(){var e=i.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<div style="overflow-y: scroll; width: 50px; height: 50px; opacity: 0; pointer-events: none; position: absolute;"></div>'])));document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;i.Dom.remove(e);return t}function E(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e){return}var i=e.getId();var n=babelHelpers.classPrivateFieldGet(this,j).menu.contentAttribute;if(!n){return}t=t||babelHelpers.classPrivateFieldGet(this,B);var a=t.querySelectorAll("[".concat(n,"]"));a=Array.prototype.slice.call(a);a.forEach((function(e){e.hidden=e.getAttribute(n)!==i}))}e.Layout=S})(this.BX.UI.SidePanel=this.BX.UI.SidePanel||{},BX,BX,BX.UI,BX.UI.SidePanel,BX.Event);
//# sourceMappingURL=bundle.map.js